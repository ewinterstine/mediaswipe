/* MediaSwipe v.01.30.2017 */
var MediaSwipe=function(){var e,t,i,n,a,o,s,d,r,l,m,u,c,p,f,w,h,v,g,y={},b={},O=function(){if(e=window.innerWidth,t=window.innerHeight,s=!1,a=!1,d=[],r=document.getElementById("mediaswipe-container"),r||(q(),r=document.getElementById("mediaswipe-container")),l=document.getElementById("mediaswipe-touchpad"),m=document.getElementById("mediaswipe-slide1"),u=document.getElementById("mediaswipe-slide1-container"),c=document.getElementById("mediaswipe-slide2"),p=document.getElementById("mediaswipe-slide2-container"),f=document.getElementById("mediaswipe-slide3"),w=document.getElementById("mediaswipe-slide3-container"),h=!1,v=document.getElementById("mediaswipe-gallery-indexes"),g=document.getElementById("mediaswipe-slide-caption"),y={currentTime:0,previousTime:J(),deltaTime:0,animations:[],foundAnimation:!1},b={vX:0,vY:0,start:{x:0,y:0,time:-1},end:{x:0,y:0,time:-1},secondStart:{x:0,y:0,time:-1},secondEnd:{x:0,y:0,time:-1},lastPosition:{x:0,y:0,time:-1},mouseDown:!1,swiping:!1,panning:!1,zooming:!1},Z(),ee(),window.location&&window.location.hash&&window.location.hash.length>0){var i=/\#view\=([\w\d])+(\,[\w\d])*/;if(i.test(window.location.hash)){var n=0,o="",O=window.location.hash.replace("#view=",""),T=O.split(",");o=T[0],2!==T.length||""===T[1]||isNaN(T[1])||(n=parseInt(T[1]));for(var E=document.getElementsByClassName("js-mediaSwipe"),S=-1,j=0;j<E.length;j++)if("undefined"!=typeof E[j].getAttribute("data-rel")&&E[j].getAttribute("data-rel")===o&&(S++,S===n)){A(E[j]),x();break}0>S&&console.warn("MediaSwipe: Could not find gallery or image in the fragment identifier.")}}},x=function(){a=!0,R(r,"on"),h=!1,i.length>1?R(r,"mediaswipe-allow-arrows"):W(r,"mediaswipe-allow-arrows"),j(o),R(document.getElementsByTagName("body")[0],"ms-prevent-scroll")},T=function(){return D(r,"ms-full-screen")?(S(),!1):(a=!1,Q(),W(r,"on"),W(r,"mediaswipe-allow-arrows"),Y(),W(document.getElementById("mediaswipe-share-nav"),"on"),void W(document.getElementsByTagName("body")[0],"ms-prevent-scroll"))},E=function(){s=!0,R(r,"ms-full-screen");var e=document.body,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if("undefined"!=typeof window.ActiveXObject){var i=new ActiveXObject("WScript.Shell");null!==i&&i.SendKeys("{F11}")}},S=function(){s=!1,W(r,"ms-full-screen");var e=document,t=e.exitFullScreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullScreen;if(t)t.call(e);else if("undefined"!=typeof window.ActiveXObject){var i=new ActiveXObject("WScript.Shell");null!==i&&i.SendKeys("{F11}")}},j=function(e){i[o].active=!1,i[F(-1)].active=!1,i[F(1)].active=!1,o=e,v.innerHTML=n>1?i[o].displayIndex+" / "+n:"",i[o].caption!==!1&&""!==i[o].caption?(g.innerHTML=i[o].caption,R(g,"on")):W(g,"on");var t=F(-1),a=F(1);if(W(r,"ms-zoom-in"),W(r,"ms-zoom-out"),W(r,"ms-grabbing"),W(r,"ms-grab"),i[o].disableTouchpad&&!D(r,"disable-touchpad")&&"youtube"!==i[o].type?R(r,"disable-touchpad"):!i[o].disableTouchpad&&D(r,"disable-touchpad")?W(r,"disable-touchpad"):"youtube"===i[o].type&&W(r,"disable-touchpad"),"undefined"!=typeof i[t].youTubeObject&&"function"==typeof i[t].youTubeObject.getPlayerState&&1===i[t].youTubeObject.getPlayerState()&&i[t].youTubeObject.pauseVideo(),"undefined"!=typeof i[a].youTubeObject&&"function"==typeof i[a].youTubeObject.getPlayerState&&1===i[a].youTubeObject.getPlayerState()&&i[a].youTubeObject.pauseVideo(),h===!1)Y(),i[o].domSlide=m,i[o].domContainer=u,M(i[o]),i.length>1&&(i[t].domContainer=p,i[t].domSlide=c,i[a].domContainer=w,i[a].domSlide=f,M(i[t]),M(i[a]));else{if(D(h,"mediaswipe-previous-slide")){var s=p;c=f,p=w,f=m,w=u,m=h,u=s,i[t].domContainer=p,i[t].domSlide=c,X(i[t]),M(i[t]),z(i[a])}else if(D(h,"mediaswipe-next-slide")){var s=w;f=c,w=p,c=m,p=u,m=h,u=s,i[a].domContainer=w,i[a].domSlide=f,X(i[a]),M(i[a]),z(i[t])}P(0),W(m,"mediaswipe-previous-slide"),W(m,"mediaswipe-next-slide"),R(m,"mediaswipe-current-slide"),W(c,"mediaswipe-current-slide"),W(c,"mediaswipe-next-slide"),R(c,"mediaswipe-previous-slide"),W(f,"mediaswipe-previous-slide"),W(f,"mediaswipe-current-slide"),R(f,"mediaswipe-next-slide")}},I=function(e,t,i){i.style.webkitTransform="translate("+e+"px,"+t+"px)",i.style.MozTransform="translate("+e+"px,"+t+"px)",i.style.msTransform="translate("+e+"px,"+t+"px)",i.style.OTransform="translate("+e+"px,"+t+"px)",i.style.transform="translate("+e+"px,"+t+"px)"},P=function(e){I(e,0,m),I(e,0,c),I(e,0,f)},X=function(e){e.active=!1,"image"===e.type&&e.domObject!==!1&&"undefined"!=typeof e.domObject.ignoreOnLoad&&(e.domObject.ignoreOnLoad=!0),W(e.domSlide,"loaded"),e.domContainer.innerHTML=""},Y=function(){for(var e=0;e<i.length;e++)i[e].active=!1,"image"===i[e].type&&i[e].domObject!==!1&&"undefined"!=typeof i[e].domObject.ignoreOnLoad&&(i[e].domObject.ignoreOnLoad=!0);W(m,"loaded"),W(c,"loaded"),W(f,"loaded"),u.innerHTML="",p.innerHTML="",w.innerHTML="",P(0)},M=function(e){if("image"===e.type){var t=new Image;t.ignoreOnLoad=!1,e.active=!0,0===e.width?(t.galleryIndex=e.index,t.parent=e.domSlide,t.onerror=function(){console.warn("MediaSwipe: Could not load "+this.src)},t.onabort=function(){console.warn("MediaSwipe: Could not load "+this.src)},t.onload=function(){this.ignoreOnLoad===!1&&(R(this.parent,"loaded"),i[this.galleryIndex].width=this.naturalWidth||this.width,i[this.galleryIndex].height=this.naturalHeight||this.height,z(i[this.galleryIndex]))},t.src=e.src,t.complete&&(t.ignoreOnLoad=!0,e.domObject=t,R(e.domSlide,"loaded"),i[t.galleryIndex].width=t.naturalWidth||t.width,i[t.galleryIndex].height=t.naturalHeight||t.height,z(i[t.galleryIndex])),e.domContainer.appendChild(t),e.domObject=t):(t.src=e.src,e.domContainer.appendChild(t),e.domObject=t,R(e.domSlide,"loaded"),z(e))}else if("youtube"===e.type){e.active=!0;var n=document.createElement("div");if(n.id="youtube"+e.index,n.style.width=e.width,n.style.height=e.height,e.domContainer.appendChild(n),e.domObject=n,"undefined"==typeof window.YT){if("undefined"==typeof window.mediaSwipeCalledYTAPI){window.mediaSwipeCalledYTAPI=!0;var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o)}d.push(e)}else C(e)}else if("iframe"===e.type){var s=document.createElement("iframe");s.src=e.src,s.width=e.width,s.height=e.height,s.style.overflow="hidden",s.style.overflowY="scroll",e.domContainer.appendChild(s),e.domObject=s,z(e),R(e.domSlide,"loaded")}},C=function(e){var t=F(-1),n=F(1);return e.index!==o&&e.index!==t&&e.index!==n?!1:void(e.youTubeObject=new YT.Player("youtube"+e.index,{height:e.height,width:e.width,videoId:e.src,playerVars:{modestbranding:!0,rel:!1},events:{onReady:function(e){for(var t=e.target.getVideoData().video_id,n=0;n<i.length;n++)t===i[n].src&&(i[n].domObject=document.getElementById("youtube"+i[n].index),z(i[n]),R(i[n].domSlide,"loaded"),1===i.length&&(R(r,"disable-touchpad"),i[n].youTubeObject.playVideo()))}}}))},L=function(){for(var e=0;e<d.length;e++)"youtube"===d[e].type&&C(d[e])},z=function(e){var t=B(e);e.virtualWidth=t.virtualWidth,e.virtualHeight=t.virtualHeight,e.virtualXPos=t.virtualXPos,e.virtualYPos=t.virtualYPos,e.virtualXOffset=0,e.virtualYOffset=0,e.isZoomed=!1,"image"===e.type?(e.scale=t.scale,e.minScale=t.scale,e.xPos=t.xPos,e.yPos=t.yPos,e.domObject.style.width=Math.ceil(e.width+1)+"px",e.domObject.style.height=Math.ceil(e.height+1)+"px"):("iframe"===e.type||"youtube"===e.type)&&(e.scale=1,e.xPos=t.virtualXPos,e.yPos=t.virtualYPos,e.domObject.width=Math.ceil(t.virtualWidth+1)+"px",e.domObject.height=Math.ceil(t.virtualHeight+1)+"px"),e.domObject.style.position="absolute",e.domObject.style.left=Math.floor(e.xPos)+"px",e.domObject.style.top=Math.floor(e.yPos)+"px",k(e)},B=function(t){var i,n,a,o,s,d,r=e>799?80:10,l=t.domContainer,m=t.width||t.videoWidth||t.offsetWidth,u=t.height||t.videoHeight||t.offsetHeight,c=m/u,p=l.offsetWidth-2*r,f=l.offsetHeight-2*r,w=p/f;return m>p||u>f?c>w?(i=p,n=p/c,a=-(m-i-2*r)/2,o=(f-u+2*r)/2,s=r,d=.5*(f-n)+r):(i=f*c,n=f,a=(p-m+2*r)/2,o=-(u-n-2*r)/2,s=.5*(p-i)+r,d=r):(a=.5*(p-m)+r,o=.5*(f-u)+r,i=m,n=u,s=a,d=o),{xPos:a,yPos:o,virtualWidth:i,virtualHeight:n,virtualXPos:s,virtualYPos:d,scale:i/m}},k=function(i,n,a,o){var s;if("undefined"!=typeof i.minScale&&(n!==!1&&n<i.minScale?n=i.minScale:n!==!1&&n>1.3&&(n=1.3)),"undefined"!=typeof n){n=n||i.scale||1,a=a||0,a+=i.lastVirtualXOffset||0,o=o||0,o+=i.lastVirtualYOffset||0;var d=80;i.isZoomed&&i.virtualXOffset>a&&i.virtualXOffset+i.virtualXPos<0&&i.virtualXOffset+i.virtualXPos+i.virtualWidth<e-d?a=i.virtualXOffset:i.isZoomed&&i.virtualXOffset<a&&i.virtualXOffset+i.virtualXPos>d&&i.virtualXOffset+i.virtualXPos+i.virtualWidth>e&&(a=i.virtualXOffset),i.isZoomed&&i.virtualYOffset>o&&i.virtualYOffset+i.virtualYPos<0&&i.virtualYOffset+i.virtualYPos+i.virtualHeight<t-d?o=i.virtualYOffset:i.isZoomed&&i.virtualYOffset<o&&i.virtualYOffset+i.virtualYPos>d&&i.virtualYOffset+i.virtualYPos+i.virtualHeight>t&&(o=i.virtualYOffset),s="translate("+a+"px,"+o+"px) scale("+n+")","undefined"!=typeof i.domObject&&(i.scale=n,i.virtualXOffset=a,i.virtualYOffset=o,i.virtualWidth=i.width*n,i.virtualHeight=i.height*n,i.virtualXPos=i.xPos+(i.width-i.virtualWidth)/2,i.virtualYPos=i.yPos+(i.height-i.virtualHeight)/2)}else s="translate("+i.virtualXOffset+"px,"+i.virtualYOffset+"px) scale("+i.scale+")";"undefined"!=typeof i.domObject?(i.domObject.style.webkitTransform=s,i.domObject.style.MozTransform=s,i.domObject.style.msTransform=s,i.domObject.style.OTransform=s,i.domObject.style.transform=s):(i.style.webkitTransform=s,i.style.MozTransform=s,i.style.msTransform=s,i.style.OTransform=s,i.style.transform=s)},A=function(e){var t,a=[],s=N(e),d=document.getElementsByClassName("js-mediaSwipe"),r=document.getElementsByClassName("js-mediaswipe");i=new Array;var l=new Array;if(o=0,d.length)for(var m=0;m<d.length;m++)t=N(d[m]),(s===!1&&t!==!1&&"undefined"==typeof a[t.src]||t!==!1&&"undefined"==typeof a[t.src]&&t.category===s.category)&&(a[t.src]=!0,t.index=i.length,t.displayIndex=i.length+1,i.push(t),l.push(t),0===o&&t.src===s.src&&(o=i.length-1));if(r.length)for(var m=0;m<r.length;m++)t=N(r[m]),(s===!1&&t!==!1&&"undefined"==typeof a[t.src]||t!==!1&&"undefined"==typeof a[t.src]&&t.category===s.category)&&(a[t.src]=!0,t.index=i.length,t.displayIndex=i.length+1,i.push(t),l.push(t),0===o&&t.src===s.src&&(o=i.length-1));if(2===i.length){var u=i.length,c=1;if(d.length)for(var m=0;m<d.length;m++)t=N(d[m]),(s===!1&&t!==!1||t!==!1&&t.category===s.category)&&(t.index=u,t.displayIndex=c,i.push(t),u++,c++);if(r.length)for(var m=0;m<r.length;m++)t=N(d[m]),(s===!1&&t!==!1||t!==!1&&t.category===s.category)&&(t.index=u,t.displayIndex=c,i.push(t),u++,c++);n=2}else n=i.length},H=function(t,i){y.animations.length&&(j(o),Q());var n=0>t?c:f;h=n,o=F(t),y.animations.push({domObject:m,time:270,xStart:i,xEnd:e*t*-1,callback:function(){j(o),Q()}}),y.animations.push({domObject:n,time:270,xStart:i,xEnd:e*t*-1})},N=function(e){for(var t="",i="",n={active:!1,index:0,type:!1,src:!1,caption:!1,category:!1,width:0,height:0,xPos:0,yPos:0,scale:1,minScale:1,isZoomed:!1,disableTouchpad:!1,virtualHeight:0,virtualWidth:0,virtualXPos:0,virtualYPos:0,virtualXOffset:0,virtualYOffset:0,lastVirtualXOffset:0,lastVirtualYOffset:0,domSlide:!1,domContainer:!1,domObject:!1},a=0;a<e.attributes.length;a++)t=e.attributes[a].nodeName,i=e.getAttribute(t),"data-largeimg"===t||"data-img"===t||"data-image"===t||"href"===t?n.src=i:"data-caption"===t||"data-title"===t||"data-description"===t?n.caption=i:"data-rel"===t||"data-category"===t||"data-type"===t?n.category=i:"data-w"!==t&&"data-width"!==t||isNaN(i)?"data-h"!==t&&"data-height"!==t||isNaN(i)||(n.height=parseInt(i)):n.width=parseInt(i);if(n.src!==!1&&""!==n.src){if(/\.(jpg|png|gif)$/.test(n.src.toLowerCase())&&"undefined"==typeof n.mmid)n.type="image";else if(/\.(mp4)$/.test(n.src.toLowerCase()))n.type="mp4";else if(n.src.indexOf("youtube.com")>-1||n.src.indexOf("/embed/")>-1){n.type="youtube",n.disableTouchpad=!0,n.width=n.width||1200,n.height=n.height||675;var o=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,s=n.src.match(o);if(!s||11!=s[7].length)return!1;n.src=s[7]}else n.type="iframe",n.disableTouchpad=!0,n.width=n.width||920,n.height=n.height||614;return n}return console.warn("MediaSwipe: Could not open file because 'href' or 'data-image' attributes were not specified on the js-mediaSwipe element."),!1},F=function(e){var t=o+e;return t>=i.length?0:0>t?i.length-1:t},R=function(e,t){e.className=e.className.replace(/^\s\s*/g,"").replace(/\s\s*$/g,"").replace(/\s\s+/g," ")+" "+t},W=function(e,t){e.className=e.className.replace(new RegExp(t,"g"),"").replace(/^\s\s*/g,"").replace(/\s\s*$/g,"").replace(/\s\s+/g," ")},D=function(e,t){for(var i=e.className,n=i.replace(/^\s\s*/g,"").replace(/\s\s*$/g,"").replace(/\s\s+/g," ").split(" "),a=0;a<n.length;a++)if(n[a]===t)return!0;return!1},V=function(e,t){return e.getAttribute("class")&&"undefined"!=typeof e.getAttribute("class")&&-1!==e.getAttribute("class").toLowerCase().indexOf("js-mediaswipe")?(t.preventDefault(),A(e),x(),!0):!1},q=function(){var e=document.createElement("div");e.id="mediaswipe-container";var t="";t+='<div id="mediaswipe-touchpad" class="mediaswipe-slides-container">',t+='<div id="mediaswipe-slide1" class="mediaswipe-slide mediaswipe-current-slide">',t+='<div id="mediaswipe-slide1-container" class="mediaswipe-slide-container mediaswipe-op-transition"></div>',t+="</div>",t+='<div id="mediaswipe-slide2" class="mediaswipe-slide mediaswipe-previous-slide">',t+='<div id="mediaswipe-slide2-container" class="mediaswipe-slide-container mediaswipe-op-transition"></div>',t+="</div>",t+='<div id="mediaswipe-slide3" class="mediaswipe-slide mediaswipe-next-slide">',t+='<div id="mediaswipe-slide3-container" class="mediaswipe-slide-container mediaswipe-op-transition"></div>',t+="</div>",t+='<div class="mediaswipe-invisible-overlay"></div>',t+="</div>",t+='<div class="mediaswipe-top-bar">',t+='<div id="mediaswipe-gallery-indexes"></div>',t+='<button type="button" id="mediaswipe-share-button" class="mediaswipe-share-button mediaswipe-op-transition" title="Share"><span></span></button>',t+='<button type="button" id="mediaswipe-fullscreen-button" class="mediaswipe-fullscreen-button mediaswipe-op-transition"><span></span></button>',t+='<button type="button" id="mediaswipe-close-button" class="mediaswipe-close-button mediaswipe-op-transition"></button>',t+='<div id="mediaswipe-share-nav">',t+='<button type="button" id="mediaswipe-facebook-share" class="mediaswipe-op-transition">Share on Facebook</button>',t+='<button type="button" id="mediaswipe-twitter-share" class="mediaswipe-op-transition">Tweet</button>',t+='<button type="button" id="mediaswipe-pinterest-share" class="mediaswipe-op-transition">Pin it</button>',t+="</div>",t+="</div>",t+='<div class="mediaswipe-bottom-bar">',t+='<div id="mediaswipe-slide-caption"></div>',t+="</div>",t+='<button type="button" id="mediaswipe-left-arrow" class="mediaswipe-arrow mediaswipe-left-arrow mediaswipe-all-transition"><span></span></button>',t+='<button type="button" id="mediaswipe-right-arrow" class="mediaswipe-arrow mediaswipe-right-arrow mediaswipe-all-transition"><span></span></button>',t+='<div class="mediaswipe-overlay mediaswipe-op-transition"></div>',e.innerHTML=t,document.getElementsByTagName("body")[0].appendChild(e)},Z=function(){document.addEventListener("click",function(e){if(a===!1)for(var t=e.target;t.parentNode&&!V(t,e);)t=t.parentNode}),document.addEventListener("mouseout",function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||!b.mouseDown||K(e)}),l.addEventListener("mouseout",function(e){(b.swiping||b.panning)&&(e=e?e:window.event,K(e))}),l.addEventListener("touchstart",function(e){e=e?e:window.event,a&&e.preventDefault(),1===e.targetTouches.length?$(e.targetTouches[0]):(b.zooming=!1,$(e.targetTouches[0]),U(e.targetTouches[1],b.secondStart))}),l.addEventListener("touchmove",function(e){if(e=e?e:window.event,a&&e.preventDefault(),1!==e.targetTouches.length||b.zooming){if(e.targetTouches.length>=1&&i[o].disableTouchpad===!1){b.zooming!==!0&&(U(e.targetTouches[0],b.start),b.zooming=!0,i[o].startZoomWidth=i[o].virtualWidth,i[o].isZoomed=!0,i[o].lastVirtualXOffset=i[o].virtualXOffset,i[o].lastVirtualYOffset=i[o].virtualYOffset),U(e.targetTouches[0],b.end),U(e.targetTouches[1],b.secondEnd);var t=Math.sqrt(Math.pow(b.secondStart.y-b.start.y,2)+Math.pow(b.secondStart.x-b.start.x,2)),n=Math.sqrt(Math.pow(b.secondEnd.y-b.end.y,2)+Math.pow(b.secondEnd.x-b.end.x,2)),s=b.secondEnd.x-b.secondStart.x+(b.end.x-b.start.x)/2,d=b.secondEnd.y-b.secondEnd.y+(b.end.y-b.start.y)/2,r=(4*(n-t)+i[o].startZoomWidth)/i[o].width;k(i[o],r,s,d)}}else _(e.targetTouches[0])}),l.addEventListener("touchend",function(e){e=e?e:window.event,a&&e.preventDefault(),0===e.targetTouches.length&&b.zooming===!1?K(e.changedTouches[0]):0===e.targetTouches.length&&b.zooming?b.zooming=!1:1===e.targetTouches.length&&b.zooming&&($(e.targetTouches[0]),i[o].lastVirtualXOffset=i[o].virtualXOffset,i[o].lastVirtualYOffset=i[o].virtualYOffset)}),l.addEventListener("mousedown",function(e){e=e?e:window.event,$(e)}),l.addEventListener("mouseup",function(e){e=e?e:window.event,K(e)}),l.addEventListener("mousemove",function(e){e=e?e:window.event,_(e)}),document.getElementById("mediaswipe-close-button").addEventListener("click",function(e){e=e||window.event,e.preventDefault(),T()}),document.getElementById("mediaswipe-fullscreen-button").addEventListener("click",function(e){e=e||window.event,e.preventDefault(),D(r,"ms-full-screen")?S():E()}),document.getElementById("mediaswipe-share-button").addEventListener("click",function(e){e=e||window.event,e.preventDefault();var t=document.getElementById("mediaswipe-share-nav");D(t,"on")?W(t,"on"):R(t,"on")}),document.getElementById("mediaswipe-facebook-share").addEventListener("click",function(e){e=e||window.event,e.preventDefault();var t=i[o].domObject.src,n=i[o].caption||"";return window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(t)+"&t="+encodeURIComponent(n),"sharer","toolbar=0,status=0,width=626,height=436"),W(document.getElementById("mediaswipe-share-nav"),"on"),!1}),document.getElementById("mediaswipe-twitter-share").addEventListener("click",function(e){e=e||window.event,e.preventDefault();var t=i[o].domObject.src,n=i[o].caption||"";return window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(n)+"&url="+encodeURIComponent(t),"sharer","toolbar=0,status=0,width=626,height=436"),W(document.getElementById("mediaswipe-share-nav"),"on"),!1}),document.getElementById("mediaswipe-pinterest-share").addEventListener("click",function(e){e=e||window.event,e.preventDefault();var t=i[o].domObject.src,n=i[o].caption||"";return window.open("http://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(t)+"&description="+encodeURIComponent(n),"sharer","toolbar=0,status=0,width=626,height=436"),W(document.getElementById("mediaswipe-share-nav"),"on"),!1}),document.getElementById("mediaswipe-left-arrow").addEventListener("click",function(e){e=e||window.event,e.preventDefault(),a&&n>1&&H(-1,0)}),document.getElementById("mediaswipe-right-arrow").addEventListener("click",function(e){e=e||window.event,e.preventDefault(),a&&n>1&&H(1,0)}),document.onkeydown=function(e){if(a)switch(e=e||window.event,e.which||e.keyCode){case 39:n>1&&H(1,0);break;case 37:n>1&&H(-1,0);break;case 27:T()}},window.onresize=function(){if(e=window.innerWidth,t=window.innerHeight,a)for(var n=F(-1),s=F(1),d=[o,n,s],r=0;r<d.length&&(z(i[d[r]]),!(i.length<2));r++);}},U=function(e,t){t.x=e.clientX,t.y=e.clientY,t.time=parseInt((new Date).getTime())},$=function(e){a&&(U(e,b.start),b.mouseDown=!0)},K=function(e){if(a)if(b.mouseDown=!1,U(e,b.end),b.swiping){var t=b.end.x-b.start.x;if(Math.abs(t)>100){var n=t>0?-1:1;H(n,t)}else{var n=t>0?-1:1,s=t>0?c:f;y.animations.push({domObject:m,time:270,xStart:t,xEnd:0,callback:function(){Q(),W(r,"ms-grabbing"),W(r,"ms-grab")}}),y.animations.push({domObject:s,time:270,xStart:t,xEnd:0})}b.swiping=!1}else if(b.panning){if(b.panning=!1,W(r,"ms-grabbing"),R(r,"ms-zoom-out"),Math.abs(b.vX)>25&&i.length>1){b.panning=!1;var t=b.end.x-b.start.x;if(Math.abs(t)>100){var n=t>0?-1:1;H(n,t)}else{var n=t>0?-1:1,s=t>0?c:f;y.animations.push({domObject:m,time:270,xStart:t,xEnd:0,callback:function(){Q(),W(r,"ms-grabbing"),W(r,"ms-grab")}}),y.animations.push({domObject:s,time:270,xStart:t,xEnd:0})}}else(Math.abs(b.vX)>8||Math.abs(b.vY)>8)&&y.animations.push({domObject:i[o],time:330,xStart:0,xEnd:6*b.vX,yStart:0,yEnd:6*b.vY,callback:function(){Q(),W(r,"ms-grabbing"),W(r,"ms-grab"),i[o].lastVirtualXOffset=i[o].virtualXOffset,i[o].lastVirtualYOffset=i[o].virtualYOffset}});i[o].lastVirtualXOffset=i[o].virtualXOffset,i[o].lastVirtualYOffset=i[o].virtualYOffset}else{var d=G(e),l=document.getElementById("mediaswipe-share-nav");if(D(l,"on")&&(W(l,"on"),!d))return!1;if(d||T(),d&&"undefined"!=typeof i[o].youTubeObject&&1!==i[o].youTubeObject.getPlayerState()&&(R(r,"disable-touchpad"),i[o].youTubeObject.playVideo()),d&&i[o].scale<1&&i[o].isZoomed===!1&&i[o].disableTouchpad===!1&&y.animations.push({domObject:i[o],time:170,scaleStart:i[o].scale,scaleEnd:1,callback:function(){Q(),W(r,"ms-zoom-in"),R(r,"ms-zoom-out"),i[o].isZoomed=!0}}),d&&i[o].isZoomed===!0){var u=B(i[o]);i[o].lastVirtualXOffset=0,i[o].lastVirtualYOffset=0,y.animations.push({domObject:i[o],time:170,scaleStart:i[o].scale,scaleEnd:u.scale,xStart:i[o].virtualXOffset,xEnd:0,yStart:i[o].virtualYOffset,yEnd:0,callback:function(){Q(),W(r,"ms-zoom-out"),R(r,"ms-zoom-in"),i[o].isZoomed=!1}})}}},_=function(e){if(a)if(b.mouseDown){var t=Math.sqrt(Math.pow(e.clientY-b.start.y,2)+Math.pow(e.clientX-b.start.x,2));if(t>10)if(i.length>1&&b.swiping===!1&&i[o].isZoomed===!1?b.swiping=!0:i[o].isZoomed===!0&&(b.panning=!0),b.swiping)P(e.clientX-b.start.x),D(r,"ms-grab")&&W(r,"ms-grab"),D(r,"ms-grabbing")||R(r,"ms-grabbing");else if(b.panning){var s={x:0,y:0,time:-1};U(e,s),b.vX=s.x-b.lastPosition.x,b.vY=s.y-b.lastPosition.y,b.lastPosition=s,k(i[o],!1,s.x-b.start.x,s.y-b.start.y),D(r,"ms-zoom-out")&&W(r,"ms-zoom-out"),D(r,"ms-grabbing")||R(r,"ms-grabbing")}}else{var d=G(e);d?i[o].scale<1&&i[o].disableTouchpad===!1&&!D(r,"ms-zoom-in")?R(r,"ms-zoom-in"):i[o].scale>=1&&i[o].disableTouchpad===!1&&i[o].isZoomed&&!D(r,"ms-zoom-out")?R(r,"ms-zoom-out"):n>1&&1===i[o].scale&&!i[o].disableTouchpad&&!i[o].isZoomed&&!D(r,"ms-grab")&&R(r,"ms-grab"):(D(r,"ms-zoom-in")&&W(r,"ms-zoom-in"),D(r,"ms-zoom-out")&&W(r,"ms-zoom-out"),D(r,"ms-grab")&&W(r,"ms-grab"))}},G=function(e){var t={x:0,y:0,time:0};return U(e,t),t.x>=i[o].virtualXPos+i[o].virtualXOffset&&t.x<=i[o].virtualXPos+i[o].virtualXOffset+i[o].virtualWidth&&t.y>=i[o].virtualYPos+i[o].virtualYOffset&&t.y<=i[o].virtualYPos+i[o].virtualYOffset+i[o].virtualHeight?!0:!1},J=function(){return parseInt((new Date).getTime())},Q=function(){y.animations=new Array},ee=function(){y.currentTime=J(),y.deltaTime=y.currentTime-y.previousTime;for(var e=0;e<y.animations.length;e++)if("undefined"==typeof y.animations[e].animating&&(y.animations[e].animating=!0),y.animations[e].animating){y.foundAnimation=!0,"undefined"==typeof y.animations[e].deltaTime&&(y.animations[e].deltaTime=0),"undefined"==typeof y.animations[e].scaleStart&&(y.animations[e].scaleStart=!1,y.animations[e].scaleEnd=!1),"undefined"==typeof y.animations[e].xStart&&(y.animations[e].xStart=!1,y.animations[e].xEnd=!1),"undefined"==typeof y.animations[e].yStart&&(y.animations[e].yStart=!1,y.animations[e].yEnd=!1);var t,i,n,a=y.animations[e].deltaTime/y.animations[e].time;y.animations[e].deltaTime>y.animations[e].time?(y.animations[e].animating=!1,a=1,t=y.animations[e].scaleStart!==!1?y.animations[e].scaleEnd:!1,i=y.animations[e].xStart!==!1?y.animations[e].xEnd:!1,n=y.animations[e].yStart!==!1?y.animations[e].yEnd:!1):(t=y.animations[e].scaleStart!==!1?ie(y.animations[e].deltaTime,y.animations[e].scaleStart,y.animations[e].scaleEnd-y.animations[e].scaleStart,y.animations[e].time):!1,i=y.animations[e].xStart!==!1?ie(y.animations[e].deltaTime,y.animations[e].xStart,y.animations[e].xEnd-y.animations[e].xStart,y.animations[e].time):!1,n=y.animations[e].yStart!==!1?ie(y.animations[e].deltaTime,y.animations[e].yStart,y.animations[e].yEnd-y.animations[e].yStart,y.animations[e].time):!1),k(y.animations[e].domObject,t,i,n),y.animations[e].deltaTime>y.animations[e].time&&"undefined"!=typeof y.animations[e].callback?y.animations[e].callback():y.animations[e].deltaTime+=y.deltaTime}y.previousTime=y.currentTime,y.foundAnimation=!1,te()},te=function(){window.requestAnimationFrame?window.requestAnimationFrame(ee):window.msRequestAnimationFrame?window.msRequestAnimationFrame(ee):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(ee):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(ee):window.oRequestAnimationFrame?window.oRequestAnimationFrame(ee):"undefined"==typeof window.requestNextFrame&&(window.requestNextFrame=setInterval(function(){ee()},18))},ie=function(e,t,i,n){return e/=n,-i*e*(e-2)+t};return{init:O,youTubeAPIReady:L}}();MediaSwipe.init(),window.onYouTubeIframeAPIReady=function(){MediaSwipe.youTubeAPIReady()};